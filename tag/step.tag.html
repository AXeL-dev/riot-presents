<step>
    <virtual if="{ index <= current_step }">
        <yield/>
    </virtual>

    <script>
        this.index = ++this.parent.parent.slide.steps_count;
    </script>
</step>